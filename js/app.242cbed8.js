(function(e){function t(t){for(var n,a,s=t[0],l=t[1],c=t[2],d=0,u=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&u.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);v&&v(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==i[l]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},i={app:0},r=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vueflix-2021/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var v=l;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"10ed":function(e,t,o){"use strict";o("1dd4")},"1dd4":function(e,t,o){},2847:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",[n("div",{staticClass:"nav"},[n("router-link",{attrs:{to:{name:"Home",params:{movies:e.movies}}}},[e._v("Home ")]),n("router-link",{attrs:{to:"/admin"}},[e._v("Admin")])],1),n("img",{attrs:{alt:"Vue logo",src:o("69e9")}}),n("br"),n("router-view")],1)],1)},r=[],a=new n["default"],s={name:"App",data:function(){return{errors:[],movies:[{id:1,title:"Nomadland",poster_path:"/8Vc5EOUEIF1EUXuX9eLFf7BvN3P.jpg",genres:[18],vote_average:7.3,overview:"A woman in her sixties embarks on a journey through the western United States after losing everything in the Great Recession, living as a van-dwelling modern-day nomad.",release_date:"2021-01-29"},{id:2,title:"Parasite",poster_path:"/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg",genres:[35,53,18],vote_average:8.5,overview:"All unemployed, Ki-taek's family takes peculiar interest in the wealthy and glamorous Parks for their livelihood until they get entangled in an unexpected incident.",release_date:"2019-05-30"},{id:3,title:"Green Book",poster_path:"/7BsvSuDQuoqhWmU2fL7W2GOcZHU.jpg",genres:[18,35,10402],vote_average:8.3,overview:"Tony Lip, a bouncer in 1962, is hired to drive pianist Don Shirley on a tour through the Deep South in the days when African Americans, forced to find alternate accommodations and services due to segregation laws below the Mason-Dixon Line, relied on a guide called The Negro Motorist Green Book.",release_date:"2018-11-16"}]}},methods:{addMovie:function(e){this.movies.push({id:parseInt(e.id),title:e.title,picture:e.poster_path,genres:e.genre_ids,rating:parseInt(e.vote_average),review:e.overview}),this.$router.push({name:"Home",params:{movies:this.movies}})}},watch:{movies:function(e,t){e!==t&&alert("There is a new movie in the database")}},mounted:function(){var e=this;a.$on("addMovie",(function(t){return e.addMovie(t)})),a.$on("addCollection",(function(t){return e.addCollection(t)}))}},l=s,c=(o("5c0b"),o("2877")),v=Object(c["a"])(l,i,r,!1,null,null,null),d=v.exports,u=o("ce5b"),p=o.n(u);o("bf40");n["default"].use(p.a);var m={},f=new p.a(m),h=o("8c4f"),g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"home"}},[o("h1",[e._v("Welcome to my movie db!")]),o("br"),o("div",{attrs:{id:"gotToCollection"}},[o("router-link",{attrs:{to:{name:"Collections"}}},[o("v-btn",{staticClass:"displayButtons",attrs:{id:"displayCollection"}},[e._v("Go to my collections")])],1)],1),o("br"),o("div",{attrs:{id:"sortingMovies"}},[o("label",{attrs:{for:"sortingMovies"}},[e._v("Sort movies by genre")]),o("br"),o("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGenre,expression:"selectedGenre"}],attrs:{id:"selected"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedGenre=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:""}},[e._v("Select a genre")]),e._l(e.APIGenres,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)]),o("br"),e._l(e.sortMoviesByGenre,(function(t){return o("div",{key:t.id,attrs:{id:"goToMovie"}},[o("router-link",{attrs:{to:{name:"Movie",params:{id:t.id,movie:t,displayAPIGenres:e.displayAPIGenres}}}},[o("v-btn",{staticClass:"displayButtons",attrs:{id:"displayMovie"}},[e._v(e._s(t.title))])],1),e._l(t.genres,(function(t){return o("div",{key:t.id},[e.displayAPIGenres(t)?o("ul",[e._v(e._s(e.displayAPIGenres(t).name))]):e._e()])})),o("br")],2)})),o("div",{attrs:{id:"nbMovies"}},[o("h2",[e._v("Number of movies: "+e._s(e.films.length))]),o("h2",[e._v("Number of selected movies: "+e._s(e.nbMovies))])]),o("br")],2)},_=[],b=(o("d3b7"),o("7db0"),o("4de4"),o("caad"),o("2532"),o("bc3a")),w=o.n(b),y={name:"Home",props:{movies:{type:Array}},data:function(){return{films:[{id:1,title:"Nomadland",poster_path:"/8Vc5EOUEIF1EUXuX9eLFf7BvN3P.jpg",genres:[18],vote_average:7.3,overview:"A woman in her sixties embarks on a journey through the western United States after losing everything in the Great Recession, living as a van-dwelling modern-day nomad.",release_date:"2021-01-29"},{id:2,title:"Parasite",poster_path:"/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg",genres:[35,53,18],vote_average:8.5,overview:"All unemployed, Ki-taek's family takes peculiar interest in the wealthy and glamorous Parks for their livelihood until they get entangled in an unexpected incident.",release_date:"2019-05-30"},{id:3,title:"Green Book",poster_path:"/7BsvSuDQuoqhWmU2fL7W2GOcZHU.jpg",genres:[18,35,10402],vote_average:8.3,overview:"Tony Lip, a bouncer in 1962, is hired to drive pianist Don Shirley on a tour through the Deep South in the days when African Americans, forced to find alternate accommodations and services due to segregation laws below the Mason-Dixon Line, relied on a guide called The Negro Motorist Green Book.",release_date:"2018-11-16"}],selectedGenre:"",APIGenres:[],error:null,loading:!1}},methods:{getAPIGenres:function(){var e=this;this.loading=!0,w.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=80d0dd074cbffeb2db4b0123882c7f44").then((function(t){e.APIGenres=t.data.genres})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1}))},displayAPIGenres:function(e){return this.APIGenres.find((function(t){return t.id===e}))}},computed:{sortMoviesByGenre:function(){var e=this;return""===this.selectedGenre?this.films:this.films.filter((function(t){return t.genres.includes(e.selectedGenre)}))},nbMovies:function(){return this.sortMoviesByGenre.length}},watch:{sortMoviesByGenre:function(e,t){console.log("The filter has been applied"),e.length>t.length&&console.log("The filter genre has been updated")},nbMovies:function(e,t){e>t&&console.log("There is a new movie in the database")}},mounted:function(){this.getAPIGenres(),void 0!==this.movies&&(this.films=this.movies)}},M=y,C=(o("f049"),Object(c["a"])(M,g,_,!1,null,"42411c52",null)),A=C.exports,P=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"movies"})},k=[],x={name:"Movies"},G=x,I=Object(c["a"])(G,P,k,!1,null,"70b09504",null),j=I.exports,O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"movie"},[o("h3",[e._v(e._s(e.movie.title)+" ")]),o("br"),o("h4",[e._v("Overview:")]),o("p",[e._v(e._s(e.movie.overview))]),o("br"),o("h4",[e._v("Genres:")]),e._l(e.movie.genres,(function(t){return o("div",{key:t.id},[e.displayAPIGenres(t)?o("li",[e._v(e._s(e.displayAPIGenres(t).name))]):e._e()])})),o("br"),o("img",{attrs:{src:"https://www.themoviedb.org/t/p/w600_and_h900_bestv2/"+e.movie.poster_path,alt:"movie_picture",width:"500em"}}),o("br"),o("v-rating",{attrs:{readonly:"","background-color":"blue lighten-3",color:"blue",large:"",length:"10"},model:{value:e.movie.vote_average,callback:function(t){e.$set(e.movie,"vote_average",t)},expression:"movie.vote_average"}}),o("br"),o("h4",[e._v("Release date:")]),o("p",[e._v(e._s(e.movie.release_date))]),o("br")],2)},T=[],$={name:"Movie",props:{movie:{type:Object},displayAPIGenres:{type:Function}}},B=$,N=(o("aa4f"),Object(c["a"])(B,O,T,!1,null,"7d155096",null)),E=N.exports,S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"collections"},e._l(e.collections,(function(t){return o("div",{key:t.id},[o("router-link",{attrs:{to:{name:"Collection",params:{id:t.collection_id,collection:t}}}},[o("v-btn",{staticClass:"collectionBtn",attrs:{id:"displayMovie"}},[e._v(e._s(t.description))])],1),o("br"),o("br")],1)})),0)},F=[],U={name:"Collection",data:function(){return{loading:!1,error:null,collections:[]}},methods:{displayCollection:function(){var e=this;w.a.get("https://apirest-movies-collections.herokuapp.com/collections").then((function(t){e.collections=t.data})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1}))}},mounted:function(){this.displayCollection()},watch:{collections:function(){console.log(this.collections)}}},D=U,L=Object(c["a"])(D,S,F,!1,null,"18162c2e",null),R=L.exports,H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"collection"},[e._l(e.collection.movies,(function(t){return o("div",{key:t.id},[o("router-link",{attrs:{to:{name:"Movie",params:{id:t.id,movie:t}}}},[o("v-btn",{staticClass:"movieBtn",attrs:{id:"displayMovie"}},[e._v(e._s(t.title))])],1)],1)})),o("br")],2)},W=[],q={name:"Collection",props:{collection:{type:Object}}},J=q,X=Object(c["a"])(J,H,W,!1,null,"7fd7578c",null),V=X.exports,z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"admin"},[o("h1",[e._v("What do you want to add?")]),o("br"),o("router-link",{attrs:{to:{name:"MovieCreation",params:{}}}},[o("v-btn",[e._v("Movie")])],1),o("router-link",{attrs:{to:{name:"CollectionCreation",params:{}}}},[o("v-btn",[e._v("Collection")])],1)],1)},K=[],Q={name:"Admin"},Y=Q,Z=(o("10ed"),Object(c["a"])(Y,z,K,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"movie_creation"},[o("h1",[e._v("Add a movie")]),o("div",{attrs:{id:"addMovieForm"}},[o("br"),o("h3",[e._v("Look down here, you movie might already be in the database!!!")]),e.APIMovies?o("v-autocomplete",{attrs:{items:e.APIMovies,"item-text":"title","return-object":""},model:{value:e.newMovie,callback:function(t){e.newMovie=t},expression:"newMovie"}}):e._e(),o("label",{attrs:{for:"searchTitle"}},[e._v("Title")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newMovie.title,expression:"newMovie.title"}],attrs:{type:"text",name:"title"},domProps:{value:e.newMovie.title},on:{keyup:e.getResult,input:function(t){t.target.composing||e.$set(e.newMovie,"title",t.target.value)}}}),o("br"),o("br"),o("label",{attrs:{for:"affiche"}},[e._v("Poster")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newMovie.poster_path,expression:"newMovie.poster_path"}],attrs:{type:"text",name:"poster_path"},domProps:{value:e.newMovie.poster_path},on:{input:function(t){t.target.composing||e.$set(e.newMovie,"poster_path",t.target.value)}}}),o("br"),o("br"),o("label",{attrs:{for:"genres"}},[e._v("Genres")]),o("br"),o("select",{directives:[{name:"model",rawName:"v-model",value:e.newMovie.genre_ids,expression:"newMovie.genre_ids"}],attrs:{name:"genres",multiple:""},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newMovie,"genre_ids",t.target.multiple?o:o[0])}}},e._l(e.APIGenres,(function(t){return o("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),0),o("br"),o("br"),o("label",{attrs:{for:"note"}},[e._v("Average vote (from 0 to 10)")]),o("br"),o("v-rating",{attrs:{"background-color":"blue lighten-3",color:"blue",length:"10",large:""},model:{value:e.newMovie.vote_average,callback:function(t){e.$set(e.newMovie,"vote_average",t)},expression:"newMovie.vote_average"}}),o("br"),o("label",{attrs:{for:"review"}},[e._v("Overview")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newMovie.overview,expression:"newMovie.overview"}],attrs:{type:"text",name:"overview"},domProps:{value:e.newMovie.overview},on:{input:function(t){t.target.composing||e.$set(e.newMovie,"overview",t.target.value)}}}),o("br"),o("br"),o("label",{attrs:{for:"release_date"}},[e._v("Release date")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newMovie.release_date,expression:"newMovie.release_date"}],attrs:{type:"text",name:"release_date"},domProps:{value:e.newMovie.release_date},on:{input:function(t){t.target.composing||e.$set(e.newMovie,"release_date",t.target.value)}}}),o("br"),o("br"),e.errors.length?o("div",{staticClass:"errors"},[o("p",[e._v("Please correct the following error(s):")]),e._l(e.errors,(function(t){return o("p",{key:t},[e._v(e._s(t))])}))],2):e._e(),o("v-btn",{attrs:{id:"addForm"},on:{click:function(t){return e.submitForm()}}},[e._v("Add a movie")])],1)])},oe=[],ne={name:"MovieCreation",props:{movies:{type:Array},addMovie:{type:Function}},data:function(){return{errors:[],newMovie:{adult:!1,genre_ids:[],id:null,title:"",poster_path:"",vote_average:null,overview:""},loading:!1,error:null,APIMovies:[],APIGenres:[]}},methods:{submitForm:function(){a.$emit("addMovie",this.newMovie)},getResult:function(){var e=this;""!==this.newMovie.title&&(this.loading=!0,this.APIMovies=[],w.a.get("https://api.themoviedb.org/3/search/movie?api_key=80d0dd074cbffeb2db4b0123882c7f44&query="+this.newMovie.title).then((function(t){e.APIMovies=t.data.results})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1})))},getAPIGenres:function(){var e=this;this.loading=!0,w.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=80d0dd074cbffeb2db4b0123882c7f44").then((function(t){e.APIGenres=t.data.genres})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1}))}},mounted:function(){this.getAPIGenres()},watch:{errors:function(){console.log("There is an error in the form")},newMovie:function(){}}},ie=ne,re=(o("928e"),Object(c["a"])(ie,te,oe,!1,null,"7375a268",null)),ae=re.exports,se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"collection_creation"},[o("h1",[e._v("Add a collection")]),o("div",{attrs:{id:"addCollectionForm"}},[o("br"),o("label",{attrs:{for:"description"}},[e._v("Description")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newCollection.description,expression:"newCollection.description"}],attrs:{type:"text",name:"description"},domProps:{value:e.newCollection.description},on:{input:function(t){t.target.composing||e.$set(e.newCollection,"description",t.target.value)}}}),o("br"),o("br"),o("label",{attrs:{for:"movies"}},[e._v("Movies")]),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.movie,expression:"movie"}],attrs:{type:"text",name:"movies_title"},domProps:{value:e.movie},on:{keyup:e.getResult,input:function(t){t.target.composing||(e.movie=t.target.value)}}}),e.APIMovies?o("v-autocomplete",{attrs:{items:e.APIMovies,"item-text":"title","return-object":""},model:{value:e.movie,callback:function(t){e.movie=t},expression:"movie"}}):e._e(),o("v-btn",{attrs:{id:"addMovie"},on:{click:e.addMovieToCollection}},[e._v("Add movie")]),o("br"),o("br"),e.newCollection.movies?o("p",[e._v("Here is the list of movies you're adding as a collection")]):e._e(),e._l(e.newCollection.movies,(function(t){return o("ul",{key:t.id},[e._v(e._s(t.title))])})),o("br"),o("br"),o("p",[e._v("Ready to add the collection?")]),o("v-btn",{attrs:{id:"addCollection"},on:{click:e.addCollection}},[e._v("Add a collection")])],2)])},le=[],ce=(o("a4d3"),o("e01a"),{name:"CollectionCreate",data:function(){return{newCollection:{id:1,description:"",movies:[]},movie:"",loading:!1,error:null,APIMovies:[]}},methods:{getResult:function(){var e=this;""!==this.movie&&(this.loading=!0,this.APIMovies=[],w.a.get("https://api.themoviedb.org/3/search/movie?api_key=80d0dd074cbffeb2db4b0123882c7f44&query="+this.movie).then((function(t){e.APIMovies=t.data.results})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1})))},addCollection:function(){var e=this;w.a.post("https://apirest-movies-collections.herokuapp.com/collections/add",{collection_id:parseInt(this.newCollection.id),description:this.newCollection.description,movies:this.newCollection.movies}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1})),this.$router.push({name:"Collections",params:{collections:this.newCollection}})},addMovieToCollection:function(){this.newCollection.movies.push(this.movie)}},watch:{newCollection:function(){console.log(this.newCollection)}}}),ve=ce,de=Object(c["a"])(ve,se,le,!1,null,"6cf575f2",null),ue=de.exports;n["default"].use(h["a"]);var pe=[{path:"/",component:A,name:"Home",props:!0},{path:"/movies",component:j,name:"Movies",props:!0},{path:"/movie/:id",component:E,name:"Movie",props:!0},{path:"/collections",component:R,name:"Collections",props:!0},{path:"/collection/:id",component:V,name:"Collection",props:!0},{path:"/admin",component:ee,name:"Admin",props:!0},{path:"/admin/add_movie",component:ae,name:"MovieCreation",props:!0},{path:"/admin/add_collection",component:ue,name:"CollectionCreation",props:!0}],me=new h["a"]({routes:pe}),fe=me;n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(d)},router:fe,vuetify:f}).$mount("#app")},"5c0b":function(e,t,o){"use strict";o("9c0c")},"69e9":function(e,t,o){e.exports=o.p+"img/paramount-logo.a53bf4ac.png"},"928e":function(e,t,o){"use strict";o("2847")},"9c0c":function(e,t,o){},a116:function(e,t,o){},a348:function(e,t,o){},aa4f:function(e,t,o){"use strict";o("a116")},f049:function(e,t,o){"use strict";o("a348")}});
//# sourceMappingURL=app.242cbed8.js.map